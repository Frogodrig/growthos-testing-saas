PhaseID,Title,Description,Type,Status,Dependencies,LinkedRequirements,CreatedAt,UpdatedAt
PH-001,"Replace Mock Action Layer","Replace stub services in /packages/action-layer with real integrations: Email via Resend or SendGrid, Calendar via Google Calendar API, Billing via Stripe Subscriptions, Webhooks via real webhook handler. Constraints: Keep integration minimal, do not abstract prematurely, maintain tenant isolation, log every external action. Deliverables: Email actually sends, meeting actually books, Stripe subscription activates tenant, metrics update correctly. NOT in scope: new agents, new workflows, UI, scaling optimizations, core engine changes.",integration,Completed,none,"INTG-001,INTG-002,INTG-003,INTG-004,INTG-005,INTG-006,INTG-007",2026-02-13T08:30:00.000Z,2026-02-13T11:15:00.000Z
PH-002,"Multi-Tenant Activation Layer","Implement tenant subscription lifecycle: POST /tenant/create endpoint, Stripe customer creation, Stripe webhook listener for subscription events, subscription activation toggle, tenant status enforcement middleware. Constraints: No complex role system, one owner per tenant in v1, tenant isolation at DB level only. Deliverables: New tenant can subscribe, subscription enables SaaS access, canceling subscription disables access. NOT in scope: multi-role auth, team invitations, admin dashboards.",backend,Completed,"PH-001","ACTV-001,ACTV-002,ACTV-003,ACTV-004,ACTV-005",2026-02-13T08:30:00.000Z,2026-02-13T11:25:00.000Z
PH-003,"Production Deployment","Deploy all 3 SaaS to production: Backend to Railway/Render/Fly, Postgres to managed DB, Redis to managed Redis, secrets stored securely. Each SaaS must have its own domain, use same shared backend infra, log production errors. Constraints: Do NOT optimize infra, do NOT autoscale, do NOT overconfigure. NOT in scope: CI/CD pipelines, monitoring dashboards, load balancing, CDN.",infrastructure,Planned,"PH-001,PH-002","",2026-02-13T08:30:00.000Z,2026-02-13T08:30:00.000Z
PH-004,"Manual Activation Mode","Temporary experiment configuration (14-day traction testing). Modify subscription activation flow to allow manual enabling of tenants without Stripe, while preserving all existing Stripe code and lifecycle structure. Add PAYMENT_MODE env flag (manual|stripe, default stripe). When manual: Stripe webhook activation bypassed, subscription defaults to pending, access denied until admin manually activates via POST /internal/activate-tenant (protected by ADMIN_SECRET). Stripe code NOT deleted — only conditionally bypassed. Dashboard shows 'Manually Activated' label when in manual mode. Constraints: No business logic changes, no agent logic changes, no scoring behavior changes, no Stripe code deletion, no architectural redesign. NOT in scope: Razorpay integration, new billing UI, automated billing alternatives.",security,Completed,"PH-002","MACT-001,MACT-002,MACT-003,MACT-004,MACT-005",2026-02-14T07:50:00.000Z,2026-02-14T09:30:00.000Z
PH-005,"Tenant-Product Binding","Bind each tenant to a specific SaaS product at creation time and scope authentication tokens accordingly. This ensures tenants are product-scoped (not global) and prevents cross-product token reuse. Add saasProduct column to Tenant model (stores the SaaS slug: 'saas-booker', 'saas-leadqualifier', 'saas-followup'). Set saasProduct on tenant creation from SaaSConfig.slug. Add saasProduct to JWT payload. Add middleware that rejects tokens whose saasProduct does not match the running SaaS instance. Update admin activation endpoint to include product context. Constraints: No new features, no agent logic changes, no scoring changes, no UI. Minimal Prisma migration (one column add). All changes must be backwards-compatible — existing tenants without saasProduct should still work (treated as legacy). NOT in scope: cross-product tenant sharing, unified login, SSO, tenant migration between products.",backend,Completed,"PH-004","TBND-001,TBND-002,TBND-003,TBND-004,TBND-005",2026-02-14T10:00:00.000Z,2026-02-14T10:30:00.000Z
PH-006,"Experiment Analytics Tagging","Add product-level tagging to all experiment-relevant data so analytics can be cleanly separated per SaaS product. Tag Workflow and AgentLog records with saasProduct at creation time. Add product-aware admin analytics endpoint that returns per-product signup counts, activation rates, and workflow completion rates. Add product filter to existing metrics endpoint. Ensure all experiment data (leads processed, agents run, outcomes) is attributable to a specific product. Constraints: No new features, no agent logic changes, no UI, no scoring changes. Read-only analytics — no new dashboards. Minimal schema changes (one column on Workflow, one on AgentLog). NOT in scope: real-time dashboards, data export, cross-product comparisons in a single view, historical backfill of existing data.",backend,Completed,"PH-005","XTAG-001,XTAG-002,XTAG-003,XTAG-004,XTAG-005",2026-02-14T10:00:00.000Z,2026-02-14T12:10:00.000Z
PH-007,"Minimal Frontend Layer","Build the thinnest possible frontend so non-technical customers can use each SaaS product independently via browser. Architecture: Vite + React SPA (TypeScript), React Router, Tailwind CSS, React Context for auth state. Single shared codebase in /apps/frontend with product-specific builds via environment variables (VITE_SAAS_SLUG, VITE_API_URL, VITE_PRODUCT_NAME). Deploy 3 instances on Railway — same code, different env config per product. JWT stored in localStorage, sent via Authorization header, product-scoped. Backend prerequisite: POST /api/auth/login endpoint (currently missing — must be added as first requirement). Required pages per SaaS: Landing page (basic marketing copy), Signup page, Login page, Dashboard page (subscription status indicator), Lead submission form, Metrics view (simple table). Each frontend instance tied to a single product slug. Cross-product navigation blocked. Constraints: No agent logic changes, no backend business rule changes, no advanced analytics, no CRM features, no lead management UI, no settings page, no profile management, no theme toggles, no advanced charts, no over-engineered state management. This is a thin client over existing APIs. Stability > Design. Usability > Polish. Experiment speed > Perfection. NOT in scope: SSR, ISR, advanced routing, component libraries (MUI/shadcn), Redux/Zustand, real-time updates, WebSocket, offline support, PWA, i18n, accessibility audit, SEO optimization, CI/CD for frontend.",frontend,Completed,"PH-005","FEND-001,FEND-002,FEND-003,FEND-004,FEND-005,FEND-006,FEND-007,FEND-008,FEND-009,FEND-010",2026-02-14T11:00:00.000Z,2026-02-14T11:05:00.000Z
PH-008,"Product-Specific Frontend Outputs","Make each SaaS product's frontend display outputs and metrics relevant to its users by leveraging existing backend data. Add leads list page with product-specific columns (AI Booker: name/score/status/meeting status; AI Lead Qualifier: name/score/qualification reason/next action; AI FollowUp: name/follow-up count/last message/escalation status). Add lead detail page showing full AI processing history (qualification score + reason, meeting details, follow-up messages, workflow state timeline, agent execution logs). Replace generic metrics with product-aware stat cards (AI Booker: meetings booked/confirmed, avg score, conversion rate; AI Lead Qualifier: qualified/disqualified counts, avg score, qualification rate, reply rate; AI FollowUp: follow-ups sent, escalations, messages by channel, reply rate). Replace generic dashboard with product-specific summary widgets. Backend: Add agentLogs to GET /api/leads/:id response. Backend: Fix AI FollowUp FSM gap — add transition from lead_received using followup agent so new leads get processed. Constraints: No new backend business logic beyond FSM fix and API enhancement. Frontend-only changes for UI items. Single shared codebase — differentiate via VITE_SAAS_SLUG. No charts/graphs/visualization libraries — simple stat cards and tables. No pagination/search/advanced filtering in v1 — limit 50. Stability > polish. NOT in scope: Real-time updates, WebSocket, export, advanced analytics, admin dashboards, notifications, email previews, calendar UI, settings pages.",frontend,Completed,"PH-006,PH-007","ORCH-001,API-001,API-002,UI-001,UI-002,UI-003,UI-004,UI-005",2026-02-15T08:00:00.000Z,2026-02-15T08:30:00.000Z
PH-009,"Lead Qualification Data Enrichment & Score Persistence","Two problems to solve: (1) Bug: When the qualifier agent runs and returns a score, the score is saved in AgentLog output but never written back to the Lead record's score and qualificationReason fields. The orchestrator in /packages/agent-orchestrator/src/index.ts must persist qualifier output back to the Lead after execution. (2) Feature: The qualifier agent prompt considers company size, role seniority, stated intent, budget signals, and timeline but the lead submission form only collects name, email, company (optional), source. The AI correctly says insufficient information because it has nothing to work with. Expand the lead submission form with richer context fields: job title, company size, intent/message, budget range, timeline, and LinkedIn profile URL. The LinkedIn URL should be used to fetch basic public profile data (name, headline, company, location) to further enrich the qualifier context. These fields flow through as metadata to the workflow and into the qualifier agent. The backend POST /api/leads already accepts a metadata object — the form just needs to populate it and the orchestrator needs to pass it through. Constraints: No new agents, no changes to qualifier prompt (it already looks for these signals), no schema migration (use existing metadata JSON field), no external API integrations beyond basic LinkedIn profile fetching. NOT in scope: Clearbit integration, automated enrichment pipelines, changes to scoring logic, new AI agents.",backend,Completed,"PH-008","ORCH-002,UI-006,ORCH-003,API-003,UI-007",2026-02-15T09:00:00.000Z,2026-02-15T09:30:00.000Z
